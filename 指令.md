Trae，为了确保 SEO 权重传递效率达到 100% 且无重定向损耗，我需要更新一下修复指令。

🌍 关键环境说明 (Cloudflare Pages)： 我的网站部署在 Cloudflare Pages 上。该平台的强制路由规则如下，代码必须顺应它，不能反着来：

具体文章页 (File)： 服务器会将 .html 强转为 无斜杠 (如 /payment-guide)。

聚合目录页 (Directory)： 服务器会将目录强制重定向为 带斜杠 (如 /blog/)。

🎯 你的终极任务： 修复全站代码，确保生成的 URL 与服务器规则 完全匹配 (1:1 Match)，从而实现爬虫访问时 HTTP 200 OK (直达)，而不是 301 重定向。

🛠 请严格执行以下 5 点深度修复：

1. 实施“混合 URL 策略” (最关键)

文章页/详情页： 所有生成的链接（Canonical, Sitemap, href, Schema）必须 去除 .html 且 去除 尾部斜杠。

✅ 目标：https://domain.com/payment-guide

聚合页/目录页 (Blog主页, 分类, 标签)： 所有生成的链接必须 保留 尾部斜杠 /。

✅ 目标：https://domain.com/blog/ (注意：如果不加斜杠，Cloudflare 会强制跳转，导致权重损耗)

2. 修复 Canonical 标签 (身份验证)

检查 <head> 中的 <link rel="canonical">。

确保 Canonical URL 严格遵循上述“混合策略”。

首页例外： 根域名永远是 https://domain.com/。

3. 修复 结构化数据 (Schema/JSON-LD)

扫描 <script type="application/ld+json">。

检查 "url", "@id", "mainEntityOfPage", BreadcrumbList。

要求： 这些字段的值必须是绝对路径，且不能包含 .html，斜杠规则同上。

4. 修复 内部链接与面包屑 (路径标准化)

将代码中所有的相对路径 (如 ../blog) 替换为绝对路径 (如 /blog/)。

确保导航栏、页脚、文章推荐的 <a> 标签 href 属性直达最终地址，不产生二次跳转。

5. 修复 Sitemap 与 IndexNow

确保提交给搜索引擎的 URL 列表是最终清洗过的版本（无 .html，目录带 /，文章无 /）。

📊 验收报告要求： 修改完成后，请你模拟一下路由逻辑，并回答我：

现在的代码生成的 /blog 链接是否带斜杠？(应为：是)

生成的文章链接是否带斜杠？(应为：否)

是否还有任何残留的 .html 后缀？

请开始执行，目标是全站“零重定向”！